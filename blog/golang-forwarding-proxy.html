<!DOCTYPE html>
<html>
    <head>
    <meta http-equiv="content-language" content="en">
    <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>How to use a Forwarding Proxy with golang</title>
    <meta name="viewport" content="width=device-width">
    <meta name="description" content="Cloud, Docker, Kubernetes make your environment extremely dynamic, it has a lot of advantages but it adds another layer of complexity. This article is about forward proxy and golang. How to configure your http Client to use an http, https forward proxy for your golang application to increase security, scalability and to have a set of public ips for outbound traffic.">
    <meta name="keywords" content="golang, network, go, proxy, forwarding, privoxy, docker, kubernetes">
    <meta name="google-site-verification" content="FoOIQ005srOjHlH19pNWapHvlOOVgCqHsz47IfQ6QNo" />
    <link rel="canonical" href="https://gianarb.it/blog/golang-forwarding-proxy">
    <link rel="icon" type="image/png" href="/img/favicon.png" />

    <meta name='twitter:card' content='summary_large_image'>
    <meta name='twitter:title' content="How to use a Forwarding Proxy with golang">
    <meta name='twitter:description' content="Cloud, Docker, Kubernetes make your environment extremely dynamic, it has a lot of advantages but it adds another layer of complexity. This article is about forward proxy and golang. How to configure your http Client to use an http, https forward proxy for your golang application to increase security, scalability and to have a set of public ips for outbound traffic.">

    <meta property="og:title" content="How to use a Forwarding Proxy with golang" />
    <meta property="og:site_name" content="gianarb blog"/>
    <meta property="og:url" content="https://gianarb.it/blog/golang-forwarding-proxy" />
    <meta property="og:description" content="Cloud, Docker, Kubernetes make your environment extremely dynamic, it has a lot of advantages but it adds another layer of complexity. This article is about forward proxy and golang. How to configure your http Client to use an http, https forward proxy for your golang application to increase security, scalability and to have a set of public ips for outbound traffic." />
    <meta property="og:type" content="article" />
    <meta property="og:locale" content="en_US" />

    <meta property="og:image" content="https://gianarb.it/img/gopher.png" />
    <meta name='twitter:image' content="https://gianarb.it/img/gopher.png">



    <meta property="twitter:account_id" content="129952408" />
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@gianarb">
    <meta name="twitter:creator" content="@gianarb">
    <meta name="twitter:title" content="How to use a Forwarding Proxy with golang">
    <meta name="twitter:description" content="Cloud, Docker, Kubernetes make your environment extremely dynamic, it has a lot of advantages but it adds another layer of complexity. This article is about forward proxy and golang. How to configure your http Client to use an http, https forward proxy for your golang application to increase security, scalability and to have a set of public ips for outbound traffic.">
    <meta name="twitter:image:src" content="https://gianarb.it/img/gopher.png">
    <meta name="twitter:image:width" content="500">
    <meta name="twitter:image:height" content="500">
    <meta name="twitter:domain" content="gianarb.it">

    <link rel='alternate' type='application/atom+xml' title='Atom 0.3' href='/atom.xml'>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/github.min.css" rel="stylesheet">

    <!-- source https://github.com/rsms/inter/ -->
    <link href="/fonts/inter/inter-ui.css" rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/main.css">

</head>

    <body>
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark" role="navigation">
    <div class="container-fluid">
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="navbar-brand" href="#">
        <a href="/" class="nav-link">
          <img src="/img/favicon.png" class="img-fluid d-inline-block align-top" alt="">
        </a>
      </div>

      <div class="collapse navbar-collapse">
        <ul class="navbar-nav">
          <li><a class="nav-link" href="/">Home</a></li>
          <li><a class="nav-link" href="/blog.html">Blog</a></li>
          <li class="nav-item"><a href="/conferences.html" class="nav-link">Conferences</a></li>
        </ul>

        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CE7DLK7L&placement=gianarbit" id="_carbonads_js"></script>
          </li>
        </ul>

      </div>

    </div>
</nav>

        

<div class="container">

    <div class="content">

        <div class="row">
            <div id="post-title" class="mt-5 col-md-12">
                <h1>How to use a Forwarding Proxy with golang</h1>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <p class="meta">21 Mar 2018 · <!-- thanks to https://www.davidputney.com/2016/07/how-medium-style-read-time-estimate.html -->


<span class="blog-read-time">Nine minute read</span>
 · golang, network, go, proxy, forwarding, privoxy, docker, kubernetes</p>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <div class="addthis_sharing_toolbox"></div>
            </div>
        </div>

        <div class="row mt-3">
            <div class="col-md-12">
            <p>A forwarding proxy is a proxy configuration that handle requests from a set of
internal clients that are trying to create a connection to the outside.</p>

<p>In practice is a man in the middle between your application and the server that you are
trying to connect. It works over the HTTP(S) protocol and it is implemented at the
edge of your infrastructure.</p>

<p>Usually, you can find it in large organizations or universities and it is used as
additional control mechanism for authorization and security.</p>

<p>I find it useful when you work with containers or in a dynamic cloud environment
because you will have a set of servers for all the outbound network
communication.</p>

<p>If you work in a dynamic environment as AWS, Azure and so on you will end up
having a variable number of servers and also a dynamic number of public IPs.
Same if your application runs on a Kubernetes cluster. Your container can be
everywhere.</p>

<p>Now let’s suppose that a customer asks you to provide a range of public IPs
because he needs to set up a firewall… How can
you provide this feature?  In some environments can be very simple, in others
very complicated.</p>

<p>1st December 2015 a users asked this question on the <a href="https://discuss.circleci.com/t/circleci-source-ip/1202">CircleCI
forum</a> this request is
still open. This is just an example, CircleCi is great. I am not complaining
about them.</p>

<p>One of the possible ways to fix this problem is via the forwarding proxy. You can
spin up a set of nodes with a static ip and you can offer the list to the
customer.</p>

<p>Almost all cloud providers have a way to do that, floating ip
on DigitalOcean or Elastic IP on AWS.</p>

<p>You can configure your applications to forward the requests to that pool and
the end services will get the ip from the forward proxy nodes and not from the
internal one.</p>

<p>This can be another security layer for your infrastructure because you will be
able to control and scan packages that are going outside from your network in a
really simple way and in a centralized place.</p>

<p>This is not a single point of failure because you can spin up more than one
forward proxies and they scale really well.</p>

<p>Under the hood, a forward proxy is the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/CONNECT">HTTP method
<code class="highlighter-rouge">CONNECT</code></a>.</p>

<blockquote>
  <p>The CONNECT method converts the request connection to a transparent TCP/IP
tunnel, usually to facilitate SSL-encrypted communication (HTTPS) through an
unencrypted HTTP proxy.</p>
</blockquote>

<p>A lot of HTTP Client across languages already support this in a very
transparent way. I built a very small example using golang and
<a href="https://www.privoxy.org/">privoxy</a> to show you how simple it is.</p>

<p>First of all, let’s build an application called <code class="highlighter-rouge">whoyare</code>. It is an HTTP server
that returns your remote address:</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
	</span><span class="s">"encoding/json"</span><span class="x">
	</span><span class="s">"net/http"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
	</span><span class="n">http</span><span class="o">.</span><span class="n">HandleFunc</span><span class="p">(</span><span class="s">"/whoyare"</span><span class="p">,</span><span class="x"> </span><span class="k">func</span><span class="p">(</span><span class="n">w</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">ResponseWriter</span><span class="p">,</span><span class="x"> </span><span class="n">r</span><span class="x"> </span><span class="o">*</span><span class="n">http</span><span class="o">.</span><span class="n">Request</span><span class="p">)</span><span class="x"> </span><span class="p">{</span><span class="x">
		</span><span class="n">w</span><span class="o">.</span><span class="n">Header</span><span class="p">()</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span><span class="x"> </span><span class="s">"application/json"</span><span class="p">)</span><span class="x">
		</span><span class="n">body</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">json</span><span class="o">.</span><span class="n">Marshal</span><span class="p">(</span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="p">{</span><span class="x">
			</span><span class="s">"addr"</span><span class="o">:</span><span class="x"> </span><span class="n">r</span><span class="o">.</span><span class="n">RemoteAddr</span><span class="p">,</span><span class="x">
		</span><span class="p">})</span><span class="x">
		</span><span class="n">w</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">body</span><span class="p">)</span><span class="x">
	</span><span class="p">})</span><span class="x">
	</span><span class="n">http</span><span class="o">.</span><span class="n">ListenAndServe</span><span class="p">(</span><span class="s">":8080"</span><span class="p">,</span><span class="x"> </span><span class="no">nil</span><span class="p">)</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre></div></div>

<p>You can call the <code class="highlighter-rouge">GET</code> the route <code class="highlighter-rouge">/whoyare</code> and you will receive a JSON like
<code class="highlighter-rouge">{"addr": "34.35.23.54"}</code> where <code class="highlighter-rouge">34.35.23.54</code> is your public address. Running
<code class="highlighter-rouge">whoyare</code> from your laptop if you make a request on your terminal you should get
<code class="highlighter-rouge">localhost</code> as remote address. You can use curl to try it:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>18:36 <span class="nv">$ </span>curl <span class="nt">-v</span> http://localhost:8080/whoyare
<span class="k">*</span> TCP_NODELAY <span class="nb">set</span>
<span class="o">&gt;</span> GET /whoyare HTTP/1.1
<span class="o">&gt;</span> User-Agent: curl/7.58.0
<span class="o">&gt;</span> Accept: <span class="k">*</span>/<span class="k">*</span>
<span class="o">&gt;</span>
&lt; HTTP/1.1 200 OK
&lt; Content-Type: application/json
&lt; Date: Sun, 18 Mar 2018 17:36:40 GMT
&lt; Content-Length: 31
&lt;
<span class="k">*</span> Connection <span class="c">#0 to host localhost left intact</span>
<span class="o">{</span><span class="s2">"addr"</span>:<span class="s2">"localhost:38606"</span><span class="o">}</span>
</code></pre></div></div>

<p>I wrote another application, it uses <code class="highlighter-rouge">http.Client</code> to print the response on
stdout. If you have the server running you can run it:</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

</span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
	</span><span class="s">"io/ioutil"</span><span class="x">
	</span><span class="s">"log"</span><span class="x">
	</span><span class="s">"net/http"</span><span class="x">
	</span><span class="s">"os"</span><span class="x">
</span><span class="p">)</span><span class="x">

</span><span class="k">type</span><span class="x"> </span><span class="n">whoiam</span><span class="x"> </span><span class="k">struct</span><span class="x"> </span><span class="p">{</span><span class="x">
	</span><span class="n">Addr</span><span class="x"> </span><span class="kt">string</span><span class="x">
</span><span class="p">}</span><span class="x">

</span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
	</span><span class="n">url</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="s">"http://localhost:8080"</span><span class="x">
	</span><span class="k">if</span><span class="x"> </span><span class="s">""</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="n">os</span><span class="o">.</span><span class="n">Getenv</span><span class="p">(</span><span class="s">"URL"</span><span class="p">)</span><span class="x"> </span><span class="p">{</span><span class="x">
		</span><span class="n">url</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">os</span><span class="o">.</span><span class="n">Getenv</span><span class="p">(</span><span class="s">"URL"</span><span class="p">)</span><span class="x">
	</span><span class="p">}</span><span class="x">
	</span><span class="n">log</span><span class="o">.</span><span class="n">Printf</span><span class="p">(</span><span class="s">"Target %s."</span><span class="p">,</span><span class="x"> </span><span class="n">url</span><span class="p">)</span><span class="x">
	</span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">Get</span><span class="p">(</span><span class="n">url</span><span class="x"> </span><span class="o">+</span><span class="x"> </span><span class="s">"/whoyare"</span><span class="p">)</span><span class="x">
	</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
		</span><span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="o">.</span><span class="n">Error</span><span class="p">())</span><span class="x">
	</span><span class="p">}</span><span class="x">
	</span><span class="k">defer</span><span class="x"> </span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span><span class="x">
	</span><span class="n">body</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span><span class="x">
	</span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
		</span><span class="n">log</span><span class="o">.</span><span class="n">Fatal</span><span class="p">(</span><span class="n">err</span><span class="o">.</span><span class="n">Error</span><span class="p">())</span><span class="x">
	</span><span class="p">}</span><span class="x">
	</span><span class="nb">println</span><span class="p">(</span><span class="s">"You are "</span><span class="x"> </span><span class="o">+</span><span class="x"> </span><span class="kt">string</span><span class="p">(</span><span class="n">body</span><span class="p">))</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre></div></div>

<p>So, this is a very simple example, but you can apply this example to more
complex environments.</p>

<p>To make this example a bit more clear I created two virtual machines on
DigitalOcean, one will run privoxy the other one will run <code class="highlighter-rouge">whoyare</code>.</p>

<ul>
  <li><strong>whoyare</strong>: public ip 188.166.17.88</li>
  <li><strong>privoxy</strong>: public ip 167.99.41.79</li>
</ul>

<p>Privoxy is a very simple to setup forward proxy, nginx, haproxy doesn’t fit very
well for this use case because they do not support the CONNECT method.</p>

<p>I built a docker image
<a href="https://hub.docker.com/r/gianarb/privoxy/"><code class="highlighter-rouge">gianarb/privoxy</code></a>, it’s on Docker
Hub. You can run and by default, it runs on port 8118.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>core@coreos-s-1vcpu-1gb-ams3-01 ~ <span class="nv">$ </span>docker run <span class="nt">-it</span> <span class="nt">--rm</span> <span class="nt">-p</span> 8118:8118
gianarb/privoxy:latest
2018-03-18 17:28:05.589 7fbbf41dab88 Info: Privoxy version 3.0.26
2018-03-18 17:28:05.589 7fbbf41dab88 Info: Program name: privoxy
2018-03-18 17:28:05.591 7fbbf41dab88 Info: Loading filter file:
/etc/privoxy/default.filter
2018-03-18 17:28:05.599 7fbbf41dab88 Info: Loading filter file:
/etc/privoxy/user.filter
2018-03-18 17:28:05.599 7fbbf41dab88 Info: Loading actions file:
/etc/privoxy/match-all.action
2018-03-18 17:28:05.600 7fbbf41dab88 Info: Loading actions file:
/etc/privoxy/default.action
2018-03-18 17:28:05.607 7fbbf41dab88 Info: Loading actions file:
/etc/privoxy/user.action
2018-03-18 17:28:05.611 7fbbf41dab88 Info: Listening on port 8118 on IP address
0.0.0.0
</code></pre></div></div>

<p>The second step is to build and scp <code class="highlighter-rouge">whoyare</code> in your server. You can
build it using the command:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ CGO_ENABLED=0 GOOS=linux go build -o bin/server_linux -a ./whoyare
</code></pre></div></div>
<p>Now that we have the application up and running we can try via cURL to query it
directly and via privoxy.</p>

<p>Let’s try directly as we did previously:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ curl -v http://your-ip:8080/whoyare
</code></pre></div></div>

<p><code class="highlighter-rouge">cURL</code> uses an environment variable <code class="highlighter-rouge">http_proxy</code> to forward the requests through
the proxy:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ http_proxy=http://167.99.41.79:8118 curl -v http://188.166.17.88:8080/whoyare
*   Trying 167.99.41.79...
* TCP_NODELAY set
* Connected to 167.99.41.79 (167.99.41.79) port 8118 (#0)
&gt; GET http://188.166.17.88:8080/whoyare HTTP/1.1
&gt; Host: 188.166.17.88:8080
&gt; User-Agent: curl/7.58.0
&gt; Accept: */*
&gt; Proxy-Connection: Keep-Alive
&gt;
&lt; HTTP/1.1 200 OK
&lt; Content-Type: application/json
&lt; Date: Sun, 18 Mar 2018 17:37:02 GMT
&lt; Content-Length: 29
&lt; Proxy-Connection: keep-alive
&lt;
* Connection #0 to host 167.99.41.79 left intact
{"addr":"167.99.41.79:58920"}
</code></pre></div></div>
<p>As you can see I have set <code class="highlighter-rouge">http_proxy=http://167.99.41.79:8118</code> and the response
doesn’t contain my public ip but the proxy one.</p>

<p><img src="/img/frankenstain-jr.jpg" alt="" /></p>

<p>These are the logs that you should expect from privoxy for the requests crossing it:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>2018-03-18 17:28:22.886 7fbbf41d5ae8 Request: 188.166.17.88:8080/whoyare
2018-03-18 17:32:29.495 7fbbf41d5ae8 Request: 188.166.17.88:8080/whoyare
</code></pre></div></div>

<p>The client that you run it previously by default it connects to <code class="highlighter-rouge">localhost:8080</code>
but you can override the target URL via env var <code class="highlighter-rouge">URL=http://188.166.17.88:8080</code>.
Running the following command I reached directly <code class="highlighter-rouge">whoyare</code>.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ URL=http://188.166.17.88:8080 ./bin/client_linux
2018/03/18 18:37:59 Target http://188.166.17.88:8080.
You are {"addr":"95.248.202.252:38620"}
</code></pre></div></div>

<p>The golang <code class="highlighter-rouge">HTTP.Client</code> supports a set of environment
variables to configure the proxy, it makes everything very flexible because
passing
these variables to any service already running it will just work.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>export HTTP_PROXY=http://http_proxy:port/
export HTTPS_PROXY=http://https_proxy:port/
export NO_PROXY=127.0.0.1, localhost
</code></pre></div></div>
<p>The first two are very simple, one is the proxy for the HTTP requests, the
second for HTTPS. <code class="highlighter-rouge">NO_PROXY</code> excludes a set of hostname, the hostname listed
there won’t cross the proxy.  In my case localhost and 127.0.0.1.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTT_PROXY=http://forwardproxy:8118
     +--------------+           +----------------+         +----------------+
     |              |           |                |         |                |
     |   client     +----------^+ forward proxy  +--------^+    whoyare     |
     |              |           |                |         |                |
     +--------------+           +----------------+         +----^-----------+
                                                                |
                                                                |
    +---------------+                                           |
    |               |                                           |
    |   client      +-------------------------------------------+
    |               |
    +---------------+
   HTTP_PROXY not configured
</code></pre></div></div>
<p>The client with the environment variables configured will cross the forward
proxy. Other client will reach it directly.</p>

<p>This granularity is very important. It’s very flexible because other than a
“per-process” you can also select what request to forward and what to exclude.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ HTTP_PROXY=http://167.99.41.79:8118 URL=http://188.166.17.88:8080
./bin/client_linux
2018/03/18 18:39:18 Target http://188.166.17.88:8080.
You are {"addr":"167.99.41.79:58922"}
</code></pre></div></div>
<p>As you can see we just reached <code class="highlighter-rouge">whoyare</code> via proxy and the <code class="highlighter-rouge">addr</code> in response is
now ours but the proxy one.</p>

<p>The last command is a bit weird but it is just to show how the <code class="highlighter-rouge">NO_PROXY</code> works.
We are calling the proxy excluding the <code class="highlighter-rouge">whoyare</code> URL, and as expected it doesn’t
cross the proxy:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ HTTP_PROXY=http://167.99.41.79:8118 URL=http://188.166.17.88:8080 NO_PROXY=188.166.17.88 ./bin/client_linux
2018/03/18 18:42:03 Target http://188.166.17.88:8080.
You are {"addr":"95.248.202.252:38712"}
</code></pre></div></div>
<p>Let’s read this article as a practical introduction to golang, forward proxy. You can
subscribe to my <a href="/atom.xml">rss feed</a> or you can follow me on
<a href="https://twitter.com/gianarb">@twitter</a>. Probably I will write about how to
replace <code class="highlighter-rouge">privoxy</code> with golang and about how to setup and deploy this solution on
Kubernetes. So let me know what to write first!</p>

            </div>
        </div>

        <div class="row mt-3">
            <div class="col-md-12">
                <div id="disqus_thread"></div>
                <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
            </div>
        </div>

    </div>
</div>

<script>
var disqus_config = function () {
    this.page.url = 'https://gianarb.it/blog/golang-forwarding-proxy';
    this.page.identifier = 'https://gianarb.it/blog/golang-forwarding-proxy';
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://gianarbdeveloper.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>

        <div class="footer text-center bg-dark text-light">
    <div class="container">
        <div class="row">
            <div class="col-md-12 small">
                last update December 22, 2020 ·
                <a href="https://twitter.com/gianarb" target="_blank">twitter.com/gianarb</a> ·
                <a href="https://github.com/gianarb" target="_blank">github.com/gianarb</a> ·
                <a href="https://twitch.tv/gianarb" target="_blank">twitch.tv/gianarb</a> ·
                <a href="/atom.xml">Atom</a>
            </div>
        </div>
    </div>
</div>

        <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/bash.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/dockerfile.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/go.min.js"></script>
        <script src="/js/custom.js"></script>

        <script>hljs.initHighlightingOnLoad();</script>
    </body>
</html>
