<!DOCTYPE html>
<html>
    <head>
    <meta http-equiv="content-language" content="en">
    <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Vanity URL for Go mod with zero infrastructure</title>
    <meta name="viewport" content="width=device-width">
    <meta name="description" content="A lot of Go modules today are hosted on GitHub. But you can setup vanity URL using a custom domain. This is good to decouple your library from GitHub. The best part is that it does not require any infrastructure, if you don't want to.">
    <meta name="keywords" content="golang">
    <meta name="google-site-verification" content="FoOIQ005srOjHlH19pNWapHvlOOVgCqHsz47IfQ6QNo" />
    <link rel="canonical" href="https://gianarb.it/blog/go-mod-vanity-url">
    <link rel="icon" type="image/png" href="/img/favicon.png" />

    <meta name='twitter:card' content='summary_large_image'>
    <meta name='twitter:title' content="Vanity URL for Go mod with zero infrastructure">
    <meta name='twitter:description' content="A lot of Go modules today are hosted on GitHub. But you can setup vanity URL using a custom domain. This is good to decouple your library from GitHub. The best part is that it does not require any infrastructure, if you don't want to.">

    <meta property="og:title" content="Vanity URL for Go mod with zero infrastructure" />
    <meta property="og:site_name" content="gianarb blog"/>
    <meta property="og:url" content="https://gianarb.it/blog/go-mod-vanity-url" />
    <meta property="og:description" content="A lot of Go modules today are hosted on GitHub. But you can setup vanity URL using a custom domain. This is good to decouple your library from GitHub. The best part is that it does not require any infrastructure, if you don't want to." />
    <meta property="og:type" content="article" />
    <meta property="og:locale" content="en_US" />


    <meta property="og:image" content="" />
    <meta name='twitter:image' content="https://gianarb.it/img/jamie-street-vanity-unsplash.jpg">


    <meta property="twitter:account_id" content="129952408" />
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@gianarb">
    <meta name="twitter:creator" content="@gianarb">
    <meta name="twitter:title" content="Vanity URL for Go mod with zero infrastructure">
    <meta name="twitter:description" content="A lot of Go modules today are hosted on GitHub. But you can setup vanity URL using a custom domain. This is good to decouple your library from GitHub. The best part is that it does not require any infrastructure, if you don't want to.">
    <meta name="twitter:image:src" content="https://gianarb.it">
    <meta name="twitter:image:width" content="500">
    <meta name="twitter:image:height" content="500">
    <meta name="twitter:domain" content="gianarb.it">

    <link rel='alternate' type='application/atom+xml' title='Atom 0.3' href='/atom.xml'>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/github.min.css" rel="stylesheet">

    <!-- source https://github.com/rsms/inter/ -->
    <link href="/fonts/inter/inter-ui.css" rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/main.css">

</head>

    <body>
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark" role="navigation">
    <div class="container-fluid">
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="navbar-brand" href="#">
        <a href="/" class="nav-link">
          <img src="/img/favicon.png" class="img-fluid d-inline-block align-top" alt="">
        </a>
      </div>

      <div class="collapse navbar-collapse">
        <ul class="navbar-nav">
          <li><a class="nav-link" href="/">Home</a></li>
          <li><a class="nav-link" href="/blog.html">Blog</a></li>
          <li class="nav-item"><a href="/conferences.html" class="nav-link">Conferences</a></li>
        </ul>

        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CE7DLK7L&placement=gianarbit" id="_carbonads_js"></script>
          </li>
        </ul>

      </div>

    </div>
</nav>

        
<style>
.bgimage {
  background-image: url('/img/jamie-street-vanity-unsplash.jpg');
}
</style>
<section class="bgimage">
</section>


<div class="container">

    <div class="content">

        <div class="row">
            <div id="post-title" class="mt-5 col-md-12">
                <h1>Vanity URL for Go mod with zero infrastructure</h1>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <p class="meta">13 Nov 2020 · <!-- thanks to https://www.davidputney.com/2016/07/how-medium-style-read-time-estimate.html -->


<span class="blog-read-time">Two minute read</span>
 · golang</p>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <div class="addthis_sharing_toolbox"></div>
            </div>
        </div>

        <div class="row mt-3">
            <div class="col-md-12">
            <p>This post is about how I renamed a go module from
github.com/something/somethingelse to go.gianarb.it/somethingelse. It requires
zero infrastructure, just a static site that can run on GitHub.</p>

<p>I used one of the many projects I have that nobody cares about
<a href="https://github.com/gianarb/go-irc">gianarb/go-irc</a>.</p>

<h3 id="why">Why</h3>

<p>You know, is one of those ideas you have in your mind for ages, but who cares?
At least for me that I don’t have any cool open source project under my name.</p>

<p>I am not one of those people who suffer when realizing that it is not escale. If
you end up having a project that gets traction and is tight to github.com
because you didn’t think about another way to go, you are stuck. And even if
GitHub today is cool, it won’t stay cool forever.</p>

<p>Filippo Valsorda <a href="https://twitter.com/FiloSottile">@FiloSottile</a> today
<a href="https://twitter.com/FiloSottile/status/1327240411266641920">tweeted</a> about this
topic, and I looked at how he set up filippo.io/age to solve this little
dilemma.</p>

<h3 id="goals">Goals</h3>

<p>This is not about how to escape from GitHub but is about setting up a “vanity
URL” that won’t lock you or your project to GitHub. It does not require any
infrastructure, just a domain that you can point to a GitHub Pages.</p>

<h3 id="prerequisite">Prerequisite</h3>

<ol>
  <li>Create a DNS record that points as CNAME to <code class="highlighter-rouge">&lt;github-handle&gt;.github.io</code>. I
used go.gianarb.it</li>
  <li>Create a repository; it will be the home for your static site. Mine is
<a href="https://github.com/gianarb/go-libraries">gianarb/go-libraries</a></li>
  <li>Set the repository up to be a <a href="https://pages.github.com/">GitHub page</a> and
enable HTTPS. You can enable it via the repository Settings; we will push
HTML files to it directly, so I used the master branch as the GitHub page’s
source.</li>
</ol>

<h3 id="add-your-first-library">Add your first library.</h3>

<p>If your library is already using go mod, you have to change the module name to
the new one. In my case, from was github.com/gianarb/go-irc to
go.gianarb.it/irc. I just searched and replaced with my editor in all the
project. Renaming a module is a bc break; I am not sure how to avoid or mitigate
that; if you know, let me know!</p>

<p>You can push a new file to your static site repository; I called my irc:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"go-import"</span> <span class="na">content=</span><span class="s">"go.gianarb.it/irc git https://github.com/gianarb/go-irc"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"refresh"</span> <span class="na">content=</span><span class="s">"0;URL='https://github.com/gianarb/go-irc'"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        Redirecting you to the <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"https://github.com/gianarb/go-irc"</span><span class="nt">&gt;</span>project page<span class="nt">&lt;/a&gt;</span>...
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<p>Replace your URL accordingly, but as soon as you push this file and GitHub will
release it to your page, you will be able to import: <code class="highlighter-rouge">go.gianarb.it/irc</code>.</p>

<h3 id="conclusion">Conclusion</h3>

<p>This methods works as a safeguard if you decide to move your code out from
GitHub. The static site can be deployed to Netlify, S3 or served by Nginx. It
does not need to stay on GitHub.</p>

<p>Same for your code, if you decide to move from GitHub to GitLab you can do it
transparently.</p>

            </div>
        </div>

        <div class="row mt-3">
            <div class="col-md-12">
                <div id="disqus_thread"></div>
                <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
            </div>
        </div>

    </div>
</div>

<script>
var disqus_config = function () {
    this.page.url = 'https://gianarb.it/blog/go-mod-vanity-url';
    this.page.identifier = 'https://gianarb.it/blog/go-mod-vanity-url';
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://gianarbdeveloper.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>

        <div class="footer text-center bg-dark text-light">
    <div class="container">
        <div class="row">
            <div class="col-md-12 small">
                last update December 22, 2020 ·
                <a href="https://twitter.com/gianarb" target="_blank">twitter.com/gianarb</a> ·
                <a href="https://github.com/gianarb" target="_blank">github.com/gianarb</a> ·
                <a href="https://twitch.tv/gianarb" target="_blank">twitch.tv/gianarb</a> ·
                <a href="/atom.xml">Atom</a>
            </div>
        </div>
    </div>
</div>

        <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/bash.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/dockerfile.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/go.min.js"></script>
        <script src="/js/custom.js"></script>

        <script>hljs.initHighlightingOnLoad();</script>
    </body>
</html>
